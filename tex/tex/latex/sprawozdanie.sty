\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{sprawozdanie}[2017/05/01]
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{fancyhdr}
\RequirePackage{float}
\RequirePackage{mathtools,amssymb,amsfonts}
\RequirePackage{polski}
\RequirePackage[polish]{babel}
\RequirePackage{xcolor}
\RequirePackage{upquote}
\RequirePackage{pbox}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage{fancyvrb}

\newif\if@TableOfContents\@TableOfContentsfalse
\newif\if@UseHandedDate\@UseHandedDatefalse
\newif\if@BlankPages\@BlankPagesfalse
\newif\if@PageBreakAtSection\@PageBreakAtSectionfalse
\newif\if@RealisedAndHanded\@RealisedAndHandedfalse

\DeclareOption{TableOfContents}{\@TableOfContentstrue}
\DeclareOption{HandedDate}{\@HandedDatetrue}
\DeclareOption{BlankPages}{\@BlankPagestrue}
\DeclareOption{PageBreakAtSection}{\@PageBreakAtSectiontrue}

\ExecuteOptions{}

\ProcessOptions\relax

\newcommand\@class{}
\newcommand\@subclass{}
\newcommand\@faculty{}
\newcommand\@type{}
\newcommand\@subject{}
\newcommand\@realised{}

\newcommand\kia{Katedra Informatyki i~Automatyki}
\newcommand\pei{Katedra Elektrotechniki i~Podstaw Informatyki}
\newcommand\kmisd{Katedra Metrologii i~Systemów Diagnostycznych}
\newcommand\kpe{Katedra Podstaw Elektroniki}
\newcommand\zsz{Zakład Systemów Złożonych}

\newcommand\class[1]{\renewcommand\@class{#1}}
\newcommand\faculty[1]{\renewcommand\@faculty{#1}}
\newcommand\type[1]{\renewcommand\@type{#1}}
\newcommand\subject[1]{\renewcommand\@subject{#1}}
\newcommand\handed[1]{\renewcommand\@date{#1}}
\newcommand\realised[1]{\renewcommand\@realised{#1}\@RealisedAndHandedtrue}

\newcommand\@MakeTitlePage{%
  \begin{flushright}
    \if@RealisedAndHanded
      {\bfseries Wykonano:}\\
      \@realised

      \bigskip
      {\bfseries Oddano:}\\
      \@date
    \else
      \if@UseHandedDate
        {\bfseries Oddano:}\, \@date\\
      \else
        {\bfseries Wykonano:}\, \@date\\
      \fi
    \fi
  \end{flushright}
  \par\vspace*{\fill}

  \begin{center}\begin{minipage}{.75\textwidth}
    \hfill\\[3ex]
    \begin{center}
      {\Large\bfseries\@subject}

      \bigskip
      \@faculty

      Politechnika Rzeszowska
      \bigskip

      {\bfseries Temat:}\, \@title
    \end{center}
  \end{minipage}\end{center}

  \par\vspace*{\fill}
  \begin{minipage}[b]{\textwidth}%
    \flushright
    \@author\\
    \@class\ \@subclass
  \end{minipage}
}

\renewcommand\maketitle{%
  \clearpage
  \thispagestyle{empty}
  \@MakeTitlePage
  \if@BlankPages
    \clearpage
    \thispagestyle{empty}
    \null
    \clearpage
    \addtocounter{page}{-1}
  \fi
  \clearpage
  \addtocounter{page}{-1}
  \if@TableOfContents
    \thispagestyle{empty}
    \tableofcontents
    \if@BlankPages
      \clearpage
      \thispagestyle{empty}
      \null
    \fi
    \clearpage
    \addtocounter{page}{-1}
  \fi
}

\if@PageBreakAtSection
  \RequirePackage{titlesec}
  \AtBeginDocument{\newcommand\sectionbreak{\clearpage}}
\fi

\endinput

\endinput
