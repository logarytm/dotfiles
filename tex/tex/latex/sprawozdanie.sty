\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{sprawozdanie}[2017/05/01]
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage[a4paper]{geometry}
\RequirePackage[T1]{fontenc}
\RequirePackage{mathtools,amsthm,amsbsy,amssymb,amsfonts}
\RequirePackage{polski}
\RequirePackage[polish]{babel}
\RequirePackage{fancyhdr}
\RequirePackage{float}
\RequirePackage{xcolor}
\RequirePackage{upquote}
\RequirePackage{pslatex}
\RequirePackage{pbox}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage{fancyvrb}

\newif\if@toc\@tocfalse
\newif\if@blank\@blankfalse
\newif\if@break\@breakfalse

\newif\if@handed\@handedfalse
\newif\if@realised\@realisedfalse

\DeclareOption{toc}{\@toctrue}
\DeclareOption{blank}{\@blanktrue}
\DeclareOption{break}{\@breaktrue}

\ExecuteOptions{}

\ProcessOptions\relax

\newcommand\@class{}
\newcommand\@subclass{}
\newcommand\@faculty{}
\newcommand\@type{}
\newcommand\@subject{}
\newcommand\@realised{}
\newcommand\@handed{}

\newcommand\kia{Katedra Informatyki i~Automatyki}
\newcommand\pei{Katedra Elektrotechniki i~Podstaw Informatyki}
\newcommand\kmisd{Katedra Metrologii i~Systemów Diagnostycznych}
\newcommand\kpe{Katedra Podstaw Elektroniki}
\newcommand\zsz{Zakład Systemów Złożonych}

\newcommand\class[1]{\renewcommand\@class{#1}}
\newcommand\faculty[1]{\renewcommand\@faculty{#1}}
\newcommand\type[1]{\renewcommand\@type{#1}}
\newcommand\subject[1]{\renewcommand\@subject{#1}}
\newcommand\handed[1]{\renewcommand\@handed{#1}\@handedtrue}
\newcommand\realised[1]{\renewcommand\@realised{#1}\@realisedtrue}

\providecommand\@maketitle{}
\renewcommand\@maketitle{%
  \begin{flushright}
    \if@realised
      {\bfseries Wykonano:}\\
      \@realised
      \if@handed
        \par\bigskip
      \fi
    \fi
    \if@handed
      {\bfseries Oddano:}\\
      \@handed
    \fi
  \end{flushright}
  \par\vspace*{\fill}

  \begin{center}\begin{minipage}{.75\textwidth}
    \hfill\\[3ex]
    \begin{center}
      {\Large\bfseries\@subject}

      \bigskip
      \@faculty

      Politechnika Rzeszowska
      \bigskip

      {\bfseries Temat:} \@title
    \end{center}
  \end{minipage}\end{center}

  \par\vspace*{\fill}
  \begin{minipage}[b]{\textwidth}%
    \flushright
    \@author\\
    \@class\ \@subclass
  \end{minipage}
}

\renewcommand\maketitle{%
  \clearpage
  \thispagestyle{empty}
  \@maketitle
  \if@blank
    \clearpage
    \thispagestyle{empty}
    \null
    \clearpage
    \addtocounter{page}{-1}
  \fi
  \clearpage
  \addtocounter{page}{-1}
  \if@toc
    \thispagestyle{empty}
    \tableofcontents
    \if@blank
      \clearpage
      \thispagestyle{empty}
      \null
    \fi
    \clearpage
    \addtocounter{page}{-1}
  \fi
}

\input{makra}
\if@break
  \RequirePackage{titlesec}
  \AtBeginDocument{\newcommand\sectionbreak{\clearpage}}
\fi

\endinput

\endinput
